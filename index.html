<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>Accueil</title>
  <link rel="stylesheet" href="./style/style.css" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="manifest" href="asset/manifest.json">

  <!-- Icône de l'application -->
  <link rel="apple-touch-icon" href="favicon.ico">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <!-- Couleur de fond de la barre de statut -->
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Darts-Games">

</head>


<body>
  <div id="divTitre">
    <h1>Bienvenue sur Darts-Games</h1>
  </div>

  <div id="corps">

    <label>Pour profiter de nos jeux et partager vos meilleurs scores avec vos amis, un compte est nécessaire.</label>
    
    <p><button class="buttonGeneral" onclick="window.location.href='signup.html'">Créer un compte</button></p>
    <p><button class="buttonGeneral" onclick="window.location.href='login.html'">Se connecter</button></p>
  </div>
    
  <script>
    
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js')
        .then(reg => {
          console.log('✅ Service Worker enregistré avec succès :', reg.scope);
        })
        .catch(err => {
          console.error('❌ Erreur lors de l’enregistrement du Service Worker :', err);
        });
    }

    // Vérifie la présence du cookie de session
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    const session = getCookie("session");
    if (session) {
      window.location.href = "dashboard.html"; // ou page protégée
    }
  </script>
</body>

</html>